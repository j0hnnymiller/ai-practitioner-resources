<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🤖 AI Practitioner Resources</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
      }

      .header {
        background: linear-gradient(135deg, #2c3e50, #34495e);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 15px;
        font-weight: 400;
      }

      .header-subtitle {
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.9);
        font-style: italic;
        margin-bottom: 30px;
        font-weight: 300;
      }

      .stats {
        display: flex;
        justify-content: space-around;
        margin: 30px 0;
        flex-wrap: wrap;
        gap: 20px;
      }

      .stat-card {
        text-align: center;
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 10px;
        min-width: 120px;
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .stat-label {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .about-collection {
        background: #fdfdfd;
        padding: 30px;
        border-left: 4px solid #5dade2;
        border-radius: 8px;
        margin: 20px;
      }

      .about-collection h2 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 1.5rem;
      }

      .about-collection p {
        color: #666;
        line-height: 1.6;
      }

      .subtitle {
        font-style: italic;
        color: #7f8c8d !important;
        margin-bottom: 15px;
        font-size: 1.1rem;
      }

      .expand-link {
        color: #3498db;
        text-decoration: none;
        cursor: pointer;
        font-weight: 500;
      }

      .expand-link:hover {
        text-decoration: underline;
      }

      .filters {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 30px;
        flex-wrap: wrap;
      }

      .filter-btn {
        background: #ecf0f1;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
        color: #2c3e50;
      }

      .filter-btn:hover,
      .filter-btn.active {
        background: #3498db;
        color: white;
        transform: translateY(-2px);
      }

      .analysis-section {
        background: #e3f2fd;
        border-left: 4px solid #2196f3;
        margin: 60px 30px 60px 30px;
        padding: 25px;
        border-radius: 8px;
      }

      .analysis-section h2 {
        color: #1976d2;
        margin-bottom: 15px;
        font-size: 1.4rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .analysis-content {
        color: #424242;
        line-height: 1.6;
      }

      .resources-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
        gap: 25px;
        margin: 30px;
        padding: 0;
      }

      .resource-card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #e1e8ed;
        position: relative;
        border-top: 3px solid #3498db;
        border-left: 2px solid #bdc3c7;
        border-bottom: 2px solid #95a5a6;
        border-right: 1px solid #ecf0f1;
      }

      .resource-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15),
          0 6px 10px rgba(0, 0, 0, 0.1);
      }

      .resource-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 20px;
        min-height: 24px;
        flex-wrap: wrap;
        gap: 8px;
      }

      .resource-type-container {
        display: flex;
        align-items: center;
        gap: 6px;
        flex-wrap: wrap;
        min-height: 24px;
      }

      .score-header-container {
        display: flex;
        align-items: center;
        gap: 4px;
        min-height: 24px;
        flex-wrap: wrap;
      }

      .resource-type {
        display: inline-block;
        padding: 2px 6px;
        border-radius: 12px;
        font-size: 0.65rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.3px;
        height: 24px;
        line-height: 16px;
        box-sizing: border-box;
      }

      .type-book {
        background: transparent;
        border: 2px solid #27ae60;
        color: #27ae60;
      }
      .type-article {
        background: transparent;
        border: 2px solid #2196f3;
        color: #2196f3;
      }
      .type-blog {
        background: transparent;
        border: 2px solid #ff9800;
        color: #ff9800;
      }
      .type-podcast {
        background: transparent;
        border: 2px solid #9c27b0;
        color: #9c27b0;
      }

      .new-tag {
        background: transparent;
        color: #ff6b35;
        border: 2px solid #ff6b35;
        font-size: 0.6rem;
        font-weight: bold;
        padding: 2px 4px;
        border-radius: 8px;
        height: 24px;
        line-height: 16px;
        box-sizing: border-box;
      }

      .weeks-badge-header {
        background: transparent;
        border: 2px solid #95a5a6;
        color: #95a5a6;
        padding: 2px 6px;
        border-radius: 10px;
        font-size: 0.65rem;
        font-weight: 500;
        height: 24px;
        line-height: 16px;
        box-sizing: border-box;
      }

      .weeks-badge-header.new {
        background: #e74c3c;
      }

      .score-header {
        font-weight: bold;
        font-size: 0.9rem;
        padding: 4px 8px;
        border-radius: 6px;
        color: white;
        min-width: 32px;
        text-align: center;
        height: 24px;
        line-height: 16px;
        box-sizing: border-box;
      }

      .risk-scores-header {
        display: flex;
        align-items: center;
        gap: 3px;
        min-height: 24px;
        flex-wrap: wrap;
      }

      .individual-risk-score {
        font-weight: bold;
        font-size: 0.6rem;
        padding: 4px 6px;
        border-radius: 3px;
        color: white;
        text-align: center;
        min-width: 20px;
        height: 24px;
        line-height: 16px;
        box-sizing: border-box;
        cursor: help;
        position: relative;
      }

      .individual-risk-score .tooltip {
        visibility: hidden;
        width: 200px;
        background-color: #333;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 8px;
        position: absolute;
        z-index: 1;
        bottom: 125%;
        left: 50%;
        margin-left: -100px;
        opacity: 0;
        transition: opacity 0.3s;
        font-size: 0.75rem;
        font-weight: normal;
        line-height: 1.2;
      }

      .individual-risk-score .tooltip::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #333 transparent transparent transparent;
      }

      .individual-risk-score:hover .tooltip {
        visibility: visible;
        opacity: 1;
      }

      .resource-title {
        font-size: 1.2rem;
        font-weight: bold;
        color: #2c3e50;
        margin-top: 15px;
        margin-bottom: 10px;
        line-height: 1.4;
      }

      .resource-source {
        color: #7f8c8d;
        font-size: 0.9rem;
        margin-bottom: 10px;
      }

      .resource-source a {
        color: #3498db;
        text-decoration: none;
      }

      .resource-source a:hover {
        text-decoration: underline;
      }

      .resource-blurb {
        color: #555;
        font-size: 0.9rem;
        line-height: 1.4;
        margin-bottom: 15px;
        font-style: italic;
      }

      .resource-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 15px;
      }

      .score-container {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .score {
        font-weight: bold;
        font-size: 1.5rem;
        padding: 8px 12px;
        border-radius: 8px;
        color: white;
        min-width: 50px;
        text-align: center;
      }

      .risk-scores {
        font-size: 0.75rem;
        color: #666;
        font-weight: normal;
        max-width: 120px;
        line-height: 1.2;
      }

      .weeks-badge {
        background: #95a5a6;
        color: white;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 500;
      }

      .weeks-badge.new {
        background: #e74c3c;
      }

      /* Footer Styles */
      .footer {
        background: linear-gradient(135deg, #2c3e50, #34495e);
        color: white;
        padding: 40px 0;
        margin-top: 50px;
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 40px;
        padding: 0 30px;
      }

      .footer-section h3 {
        margin-bottom: 20px;
        color: #3498db;
        font-size: 1.2rem;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
      }

      .footer-section p,
      .footer-section li {
        line-height: 1.6;
        color: #bdc3c7;
        margin-bottom: 10px;
      }

      .footer-section ul {
        list-style: none;
      }

      .footer-section a {
        color: #3498db;
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-section a:hover {
        color: #5dade2;
      }

      .footer-bottom {
        text-align: center;
        padding: 20px 0;
        border-top: 1px solid #34495e;
        margin-top: 30px;
        color: #95a5a6;
      }

      /* Methodology Modal */
      .methodology-link {
        cursor: pointer;
        color: #3498db;
        text-decoration: underline;
      }

      .methodology-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }

      .methodology-content {
        background-color: white;
        margin: 5% auto;
        padding: 30px;
        border-radius: 10px;
        width: 80%;
        max-width: 800px;
        max-height: 80vh;
        overflow-y: auto;
      }

      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }

      .close:hover {
        color: #000;
      }

      .legend-content h3 {
        color: #2c3e50;
        margin: 20px 0 10px 0;
      }

      .score-range {
        display: flex;
        align-items: center;
        margin: 10px 0;
        padding: 10px;
        border-radius: 8px;
      }

      .score-range.excellent {
        background: #d4edda;
        border-left: 4px solid #28a745;
      }

      .score-range.solid {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
      }

      .score-range.weaker {
        background: #f8d7da;
        border-left: 4px solid #dc3545;
      }

      .loading {
        text-align: center;
        padding: 50px;
        color: #666;
      }

      .error {
        background: #f8d7da;
        color: #721c24;
        padding: 20px;
        margin: 20px;
        border-radius: 8px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>🤖 AI Practitioner Resources</h1>
        <p class="header-subtitle">
          An AI curated collection of the best AI assisted software development
          resources
        </p>
        <div class="stats" id="stats"></div>
      </div>

      <div id="loading" class="loading">
        <h3>Loading resources...</h3>
      </div>

      <div id="error" class="error"></div>

      <div id="content" style="display: none">
        <div class="about-collection">
          <h2>📊 About This Collection</h2>
          <div id="introduction-preview"></div>
          <div id="introduction-full" style="display: none"></div>
          <a href="#" id="toggle-introduction" class="expand-link"
            >... read more</a
          >
        </div>

        <div class="filters" id="filters"></div>

        <div class="resources-grid" id="resources"></div>

        <div
          class="analysis-section"
          id="analysis-section"
          style="display: none"
        >
          <h2>📈 This Week's Analysis</h2>
          <div id="analysis" class="analysis-content"></div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>About This Project</h3>
          <p>
            An AI-curated collection of the best resources for AI-assisted
            software development. This is an open-source project that welcomes
            contributions from the community.
          </p>
          <p>
            <strong>Last Updated:</strong>
            <span id="last-updated">October 30, 2025</span>
          </p>
          <p><strong>Open Source Project</strong></p>
        </div>

        <div class="footer-section">
          <h3>Repository Links</h3>
          <ul>
            <li>
              <a
                href="https://github.com/j0hnnymiller/ai-practitioner-resources"
                target="_blank"
                >🔗 View on GitHub</a
              >
            </li>
            <li>
              <a
                href="https://github.com/j0hnnymiller/ai-practitioner-resources/issues"
                target="_blank"
                >🐛 Report Issues</a
              >
            </li>
            <li>
              <a
                href="https://github.com/j0hnnymiller/ai-practitioner-resources/fork"
                target="_blank"
                >🍴 Fork This Project</a
              >
            </li>
            <li><span class="methodology-link">📊 Methodology</span></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>How to Contribute</h3>
          <ul>
            <li>
              Create an issue that can be assigned to an AI to fix or implement
            </li>
            <li>Share the project with others</li>
            <li>Star the repository on GitHub</li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        Brought to you by the friendly folks at
        <a href="http://codemag.com" target="_blank">
          <img
            src="images/CODE-Group-red.png"
            alt="CODE"
            style="height: 1em; vertical-align: baseline"
          />
        </a>
      </div>
    </div>

    <!-- Methodology Modal -->
    <div id="methodology-modal" class="methodology-modal">
      <div class="methodology-content">
        <span class="close">&times;</span>
        <div id="legend" class="legend-content"></div>
      </div>
    </div>

    <script>
      // Configuration - Replace with your gist details
      const GIST_CONFIG = {
        // Production gist URL
        url: "https://gist.githubusercontent.com/j0hnnymiller/1a9d84d165a170d6f62cc052db97b8bb/raw/resources.json",

        // Alternative: Local test data (for development)
        // url: "./test-local.json",

        // Alternative: GitHub API (for more control)
        // apiUrl: 'https://api.github.com/gists/GIST_ID',
        // filename: 'resources.json'
      };

      let allResources = [];
      let resourceData = {};
      let currentFilter = "All";

      // Helper function to get score color based on value (1-100 scale)
      // Gradient: 60=red -> 80=yellow -> 100=green
      function getScoreColor(score) {
        // Clamp score to 60-100 range for color calculation
        const clampedScore = Math.max(60, Math.min(100, score));

        if (clampedScore >= 80) {
          // 80-100: Yellow to Green gradient
          const ratio = (clampedScore - 80) / 20; // 0 to 1
          const red = Math.round(255 * (1 - ratio));
          const green = 200; // Keep green high
          const blue = Math.round(7 * (1 - ratio));
          return `rgb(${red}, ${green}, ${blue})`;
        } else {
          // 60-80: Red to Yellow gradient
          const ratio = (clampedScore - 60) / 20; // 0 to 1
          const red = Math.round(220 + 35 * ratio); // 220 to 255
          const green = Math.round(53 + 140 * ratio); // 53 to 193
          const blue = Math.round(69 - 62 * ratio); // 69 to 7
          return `rgb(${red}, ${green}, ${blue})`;
        }
      }

      // Helper function to get weeks badge color
      function getWeeksBadgeColor(weeks) {
        if (weeks >= 6) {
          // 6+ weeks: Red
          return `rgb(220, 53, 69)`;
        } else if (weeks >= 2) {
          // 2-5 weeks: Yellow
          return `rgb(255, 193, 7)`;
        } else {
          // 1-2 weeks: Green
          return `rgb(40, 167, 69)`;
        }
      }

      async function loadResources() {
        try {
          let resourceData;

          if (GIST_CONFIG.url) {
            const response = await fetch(GIST_CONFIG.url);
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            resourceData = await response.json();
          } else if (GIST_CONFIG.apiUrl) {
            const response = await fetch(GIST_CONFIG.apiUrl);
            const gistData = await response.json();
            const fileContent = gistData.files[GIST_CONFIG.filename].content;
            resourceData = JSON.parse(fileContent);
          } else {
            throw new Error(
              "No valid configuration found. Please set either GIST_CONFIG.url or GIST_CONFIG.apiUrl"
            );
          }

          allResources = resourceData.resources || [];

          if (allResources.length === 0) {
            throw new Error("No resources found in the data");
          }

          document.getElementById("loading").style.display = "none";
          document.getElementById("content").style.display = "block";

          renderIntroduction(resourceData.introduction);
          renderStats();
          renderFilters();
          renderResources();
          renderLegend(resourceData.legend);
          renderAnalysis(resourceData.analysis);
          setupMethodologyModal();
        } catch (error) {
          console.error("Error loading resources:", error);
          document.getElementById("loading").style.display = "none";
          document.getElementById("error").style.display = "block";
          document.getElementById("error").innerHTML = `
            <h3>Failed to load resources</h3>
            <p>Error: ${error.message}</p>
          `;
        }
      }

      function renderIntroduction(introduction) {
        const fullIntro =
          introduction ||
          "An AI curated collection of the most valuable resources for developers leveraging AI to generate, enhance, and optimize code. This list focuses on practical tools, techniques, and insights for integrating AI coding assistants into your development workflow.";

        // Extract first sentence
        const sentences = fullIntro.split("</p>");
        const firstSentence = sentences[0] + "</p>";
        const remainingContent = sentences.slice(1).join("</p>");

        document.getElementById("introduction-preview").innerHTML =
          firstSentence;
        document.getElementById("introduction-full").innerHTML =
          remainingContent;

        // Add click handler for expand/collapse
        document.getElementById("toggle-introduction").onclick = function (e) {
          e.preventDefault();
          const fullDiv = document.getElementById("introduction-full");
          const link = document.getElementById("toggle-introduction");

          if (fullDiv.style.display === "none") {
            fullDiv.style.display = "block";
            link.textContent = "... read less";
          } else {
            fullDiv.style.display = "none";
            link.textContent = "... read more";
          }
        };
      }

      function renderStats() {
        const types = [...new Set(allResources.map((r) => r.type))];
        const avgScore = Math.round(
          allResources.reduce(
            (sum, r) => sum + (r.overall_score || r.score || 0),
            0
          ) / allResources.length
        );
        const topScore = Math.max(
          ...allResources.map((r) => r.highest_score || r.score || 0)
        );

        const statsHtml = `
                <div class="stat-card">
                    <div class="stat-number">${allResources.length}</div>
                    <div class="stat-label">Total Resources</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${types.length}</div>
                    <div class="stat-label">Resource Types</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${avgScore}</div>
                    <div class="stat-label">Average Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">${topScore}</div>
                    <div class="stat-label">Highest Score</div>
                </div>
            `;
        document.getElementById("stats").innerHTML = statsHtml;
      }

      function renderFilters() {
        const types = [...new Set(allResources.map((r) => r.type))];
        const typeCounts = {};
        types.forEach((type) => {
          typeCounts[type] = allResources.filter((r) => r.type === type).length;
        });

        const filtersHtml = `
          <button class="filter-btn active" onclick="filterResources('All')">All (${
            allResources.length
          })</button>
          ${types
            .map(
              (type) => `
            <button class="filter-btn" onclick="filterResources('${type}')">${type} (${typeCounts[type]})</button>
          `
            )
            .join("")}
        `;
        document.getElementById("filters").innerHTML = filtersHtml;
      }

      function filterResources(type) {
        currentFilter = type;

        // Update active button
        document
          .querySelectorAll(".filter-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        renderResources();
      }

      function renderResources() {
        const filteredResources =
          currentFilter === "All"
            ? allResources
            : allResources.filter((r) => r.type === currentFilter);

        // Sort by highest risk score (highest first)
        filteredResources.sort(
          (a, b) =>
            (b.highest_score || b.score || 0) -
            (a.highest_score || a.score || 0)
        );

        const resourcesHtml = filteredResources
          .map((resource) => {
            const mainScore = resource.highest_score || resource.score || 0;
            const scoreColor = getScoreColor(mainScore);

            // Build individual risk score badges with tooltips
            let riskScoresBadges = "";
            if (resource.risk_coverage) {
              const riskAreas = [
                {
                  key: "security_vulnerabilities",
                  label: "SEC",
                  tooltip:
                    "Security Vulnerabilities: Threat modeling, SAST/DAST integration, vulnerability detection and mitigation strategies",
                },
                {
                  key: "code_quality",
                  label: "QUAL",
                  tooltip:
                    "Code Quality & Logic: Testing frameworks, validation pipelines, edge case handling, and quality assurance methodologies",
                },
                {
                  key: "data_privacy",
                  label: "PRIV",
                  tooltip:
                    "Data Privacy & Confidentiality: Data governance frameworks, compliance strategies, and sanitization techniques",
                },
                {
                  key: "licensing_ip",
                  label: "LIC",
                  tooltip:
                    "Licensing & IP Management: License compliance workflows, IP auditing processes, and legal risk assessment",
                },
                {
                  key: "maintainability",
                  label: "MAINT",
                  tooltip:
                    "Maintainability & Documentation: Traceability frameworks, documentation standards, and audit trail requirements",
                },
                {
                  key: "bias_standards",
                  label: "BIAS",
                  tooltip:
                    "Bias & Standards: Bias detection methodologies, code standards enforcement, and quality consistency",
                },
                {
                  key: "over_reliance",
                  label: "REL",
                  tooltip:
                    "Over-Reliance & Skills: Balanced AI usage frameworks, skill development programs, and independence strategies",
                },
              ];

              const badges = riskAreas
                .filter((area) => {
                  const score = resource.risk_coverage[area.key];
                  return score && score !== "not_covered";
                })
                .map((area) => {
                  const score = resource.risk_coverage[area.key];
                  const scoreColor = getScoreColor(score);
                  return `<div class="individual-risk-score" style="background-color: ${scoreColor}">${score}<div class="tooltip">${area.tooltip} - Score: ${score}/100</div></div>`;
                })
                .join("");

              riskScoresBadges = badges;
            }

            return `
            <div class="resource-card">
              <div class="resource-header">
                <div class="resource-type-container">
                  <span class="resource-type type-${resource.type.toLowerCase()}">${
              resource.type
            }</span>
                  ${
                    resource.weeks_on_list === 1
                      ? '<span class="new-tag">NEW</span>'
                      : ""
                  }
                  <div class="weeks-badge-header" style="border-color: ${getWeeksBadgeColor(
                    resource.weeks_on_list || 1
                  )}; color: ${getWeeksBadgeColor(
              resource.weeks_on_list || 1
            )}">${resource.weeks_on_list || 1} week${
              resource.weeks_on_list !== 1 ? "s" : ""
            }</div>
                </div>
                <div class="score-header-container">
                  <div class="score-header" style="background-color: ${scoreColor}">${mainScore}</div>
                  ${
                    riskScoresBadges
                      ? `<div class="risk-scores-header">${riskScoresBadges}</div>`
                      : ""
                  }
                </div>
              </div>
              <div class="resource-title">${resource.title}</div>
              <div class="resource-source">
                <a href="${resource.source}" target="_blank">${
              new URL(resource.source).hostname
            }</a>
              </div>
              <div class="resource-blurb">${resource.blurb}</div>
            </div>
          `;
          })
          .join("");

        document.getElementById("resources").innerHTML = resourcesHtml;
      }

      function renderLegend(legend) {
        if (legend) {
          document.getElementById("legend").innerHTML = legend;
        } else {
          // Default legend for value-based scoring
          document.getElementById("legend").innerHTML = `
            <h3>🎯 Value-Based AI Coding Resource Scoring System</h3>
            <p>Each resource is evaluated on the specific AI coding risks it addresses, with individual scores from 1-100:</p>
            <div class="score-range excellent">
              <strong>90-100: Excellent</strong> - Top-tier resources with exceptional practical value
            </div>
            <div class="score-range solid">
              <strong>75-89: Solid</strong> - Useful resources with good practical application
            </div>
            <div class="score-range weaker">
              <strong>60-74: Weaker</strong> - Less practical or more theoretical resources
            </div>
            <h3>📊 Selection & Scoring Methodology:</h3>
            <ul>
              <li><strong>Security Vulnerabilities:</strong> Threat modeling, SAST/DAST integration, vulnerability detection</li>
              <li><strong>Code Quality & Logic:</strong> Testing frameworks, validation pipelines, edge case handling</li>
              <li><strong>Data Privacy & Confidentiality:</strong> Data governance, compliance frameworks, sanitization</li>
              <li><strong>Licensing & IP Management:</strong> License compliance, IP audit processes</li>
              <li><strong>Maintainability & Documentation:</strong> Traceability frameworks, documentation standards</li>
              <li><strong>Bias & Standards Consistency:</strong> Bias detection, style guide enforcement</li>
              <li><strong>Over-Reliance & Skill Development:</strong> Balanced AI usage, skill maintenance practices</li>
            </ul>
            <br>
            <p><em>Resources are selected based on their <strong>highest individual risk area score</strong>, ensuring best-in-class expertise. Overall scores represent averages across addressed risk areas only.</em></p>
          `;
        }
      }

      function renderAnalysis(analysis) {
        if (analysis) {
          document.getElementById("analysis-section").style.display = "block";

          // Parse the analysis HTML to extract paragraphs
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = analysis;
          const paragraphs = Array.from(tempDiv.querySelectorAll("p"));

          if (paragraphs.length > 2) {
            // Keep first paragraph as is
            let formattedAnalysis = paragraphs[0].outerHTML;

            // Add extra whitespace before bullet list
            formattedAnalysis += '<div style="margin: 20px 0;"></div>';

            // Convert middle paragraphs to bullet points
            formattedAnalysis +=
              '<ul style="margin-left: 20px; line-height: 1.8;">';
            for (let i = 1; i < paragraphs.length - 1; i++) {
              formattedAnalysis += `<li style="margin-bottom: 12px;">${paragraphs[i].innerHTML}</li>`;
            }
            formattedAnalysis += "</ul>";

            // Add extra whitespace after bullet list
            formattedAnalysis += '<div style="margin: 20px 0;"></div>';

            // Keep last paragraph as is
            formattedAnalysis += paragraphs[paragraphs.length - 1].outerHTML;

            document.getElementById("analysis").innerHTML = formattedAnalysis;
          } else {
            // If 2 or fewer paragraphs, just display as is
            document.getElementById("analysis").innerHTML = analysis;
          }
        }
      }

      function setupMethodologyModal() {
        const modal = document.getElementById("methodology-modal");
        const link = document.querySelector(".methodology-link");
        const closeBtn = document.querySelector(".close");

        if (link) {
          link.onclick = function () {
            modal.style.display = "block";
          };
        }

        if (closeBtn) {
          closeBtn.onclick = function () {
            modal.style.display = "none";
          };
        }

        window.onclick = function (event) {
          if (event.target == modal) {
            modal.style.display = "none";
          }
        };
      }

      // Load resources on page load
      document.addEventListener("DOMContentLoaded", loadResources);
    </script>
  </body>
</html>
