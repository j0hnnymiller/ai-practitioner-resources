# Copilot Session Lifecycle - Visual Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       COMPLETE SESSION LIFECYCLE FLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚  Issue Created   â”‚
                                   â”‚ (with details)   â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ PM Review        â”‚
                                   â”‚ (automated)      â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ Issue Labeled:               â”‚
                              â”‚ â€¢ implementation-ready       â”‚
                              â”‚ â€¢ size, priority, etc        â”‚
                              â”‚ â€¢ Assigned (if contributor)  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚                      â”‚
                          [WAIT FOR COPILOT TO CREATE PR]
                                 â”‚
                                 â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ PR Created from      â”‚
                        â”‚ copilot/issue-* ...  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                  â•‘                                 â•‘
                  â–¼                                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ [capture-copilot-       â”‚    â”‚ Session File Created    â”‚
        â”‚  session.yml]            â”‚    â”‚ in .github/sessions/    â”‚
        â”‚                          â”‚    â”‚                         â”‚
        â”‚ AUTOMATIC TRIGGER        â”‚    â”‚ File: copilot-issue-   â”‚
        â”‚ When: PR opened from     â”‚    â”‚       {N}-pr-{N}.json  â”‚
        â”‚       copilot/* branch   â”‚    â”‚                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                             â”‚
                       â”‚          Workflow Steps:    â”‚
                       â”‚          1. Extract issue #  â”‚
                       â”‚          2. Gather PR info   â”‚
                       â”‚          3. Collect commits  â”‚
                       â”‚          4. Get file changes â”‚
                       â”‚          5. Save session     â”‚
                       â”‚          6. Commit file      â”‚
                       â”‚          7. Post PR comment  â”‚
                       â”‚                             â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚                                 â”‚
                       â–¼                                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Session Summary Posted to PR â”‚  â”‚ Session Ready for        â”‚
        â”‚                              â”‚  â”‚ Restoration              â”‚
        â”‚ Comment contains:            â”‚  â”‚                          â”‚
        â”‚ â€¢ Session ID                 â”‚  â”‚ Contains:                â”‚
        â”‚ â€¢ Issue context              â”‚  â”‚ â€¢ Issue context          â”‚
        â”‚ â€¢ PR details                 â”‚  â”‚ â€¢ Branch state           â”‚
        â”‚ â€¢ File summary               â”‚  â”‚ â€¢ Commits made           â”‚
        â”‚ â€¢ Review status              â”‚  â”‚ â€¢ File changes           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Restoration data       â”‚
                       â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                               â”‚
                       â–¼                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
                â”‚ Code Review      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ In Progress      â”‚
                â”‚                  â”‚
                â”‚ Reviewer checks: â”‚
                â”‚ â€¢ Correctness    â”‚
                â”‚ â€¢ Quality        â”‚
                â”‚ â€¢ Coverage       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ Approve  â”‚    â”‚ Comment    â”‚  â”‚ Request  â”‚
    â”‚ (merge)  â”‚    â”‚ (no action)â”‚  â”‚ Changes  â”‚ â—„â”€â”€â”€ TRIGGERS WORKFLOW
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â”‚                               â”‚
         â”‚                   â•”â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•—
         â”‚                   â•‘                       â•‘
         â”‚                   â–¼                       â–¼
         â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        â”‚ [handle-copilot-    â”‚  â”‚ Session Updated    â”‚
         â”‚        â”‚  review-changes.yml]â”‚  â”‚ with Feedback      â”‚
         â”‚        â”‚                     â”‚  â”‚                    â”‚
         â”‚        â”‚ AUTOMATIC TRIGGER   â”‚  â”‚ â€¢ reviewState.    â”‚
         â”‚        â”‚ When: PR review     â”‚  â”‚   changesRequestedâ”‚
         â”‚        â”‚       submitted     â”‚  â”‚   = true          â”‚
         â”‚        â”‚ State: changes_req. â”‚  â”‚ â€¢ Review comments  â”‚
         â”‚        â”‚                     â”‚  â”‚   added            â”‚
         â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Timestamp        â”‚
         â”‚                   â”‚              â”‚ â€¢ Label added:     â”‚
         â”‚                   â”‚              â”‚   copilot-       â”‚
         â”‚                   â”‚              â”‚   review-changes  â”‚
         â”‚                   â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                       â”‚
         â”‚                   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚     â”‚                              â”‚
         â”‚                   â”‚     â–¼                              â–¼
         â”‚                   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚  â”‚ Session Re-saved   â”‚  â”‚ PR Comment with  â”‚
         â”‚                   â”‚  â”‚ to Branch          â”‚  â”‚ Restoration Info â”‚
         â”‚                   â”‚  â”‚                    â”‚  â”‚                  â”‚
         â”‚                   â”‚  â”‚ â€¢ Updated file     â”‚  â”‚ â€¢ Session ID     â”‚
         â”‚                   â”‚  â”‚   committed        â”‚  â”‚ â€¢ Review summary â”‚
         â”‚                   â”‚  â”‚ â€¢ History preservedâ”‚  â”‚ â€¢ Restoration    â”‚
         â”‚                   â”‚  â”‚                    â”‚  â”‚   command        â”‚
         â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Context ready  â”‚
         â”‚                   â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                                   â”‚
         â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚                                                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚              â”‚                                      â”‚ â”‚
         â”‚              â–¼                                      â–¼ â–¼
         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚     â”‚ Copilot Sees Label:  â”‚          â”‚ Copilot Restores     â”‚
         â”‚     â”‚ copilot-review-      â”‚          â”‚ Session              â”‚
         â”‚     â”‚ changes              â”‚          â”‚                      â”‚
         â”‚     â”‚                      â”‚          â”‚ Command:             â”‚
         â”‚     â”‚ Notification posted  â”‚          â”‚ node scripts/        â”‚
         â”‚     â”‚ by GitHub            â”‚          â”‚ session-manager.js   â”‚
         â”‚     â”‚                      â”‚          â”‚ restore SESSION_ID   â”‚
         â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚                                   â”‚
         â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â”‚                               â–¼
         â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚ Implementation Context    â”‚
         â”‚                   â”‚ Fully Restored            â”‚
         â”‚                   â”‚                           â”‚
         â”‚                   â”‚ â€¢ Original issue details  â”‚
         â”‚                   â”‚ â€¢ Current file state      â”‚
         â”‚                   â”‚ â€¢ Commits already made    â”‚
         â”‚                   â”‚ â€¢ Changes requested       â”‚
         â”‚                   â”‚ â€¢ Previous iterations     â”‚
         â”‚                   â”‚ â€¢ Full audit trail        â”‚
         â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                   â”‚
         â”‚                                   â–¼
         â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚ Copilot Implements    â”‚
         â”‚                       â”‚ Requested Changes     â”‚
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚ â€¢ Addresses feedback  â”‚
         â”‚                       â”‚ â€¢ Updates files       â”‚
         â”‚                       â”‚ â€¢ Creates commits     â”‚
         â”‚                       â”‚ â€¢ References issue    â”‚
         â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                       â”‚
         â”‚                                       â–¼
         â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                          â”‚ Changes Pushed to    â”‚
         â”‚                          â”‚ PR Branch            â”‚
         â”‚                          â”‚                      â”‚
         â”‚                          â”‚ â€¢ New commits        â”‚
         â”‚                          â”‚ â€¢ Updated files      â”‚
         â”‚                          â”‚ â€¢ Session auto-saved â”‚
         â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                     â”‚
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚                               â”‚
         â”‚                    â–¼                               â”‚
         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
         â”‚         â”‚ Ready for Next    â”‚                      â”‚
         â”‚         â”‚ Review Cycle      â”‚ â—„â”€ [LOOP: Another review cycle]
         â”‚         â”‚                   â”‚                      â”‚
         â”‚         â”‚ â€¢ More feedback?  â”‚                      â”‚
         â”‚         â”‚ â€¢ More changes?   â”‚                      â–¼
         â”‚         â”‚ â€¢ Or approved?    â”‚              [REPEAT: Review]
         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
         â”‚                   â”‚                                â”‚
         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
         â”‚     â”‚             â”‚              â”‚                 â”‚
         â”‚     â–¼             â–¼              â–¼                 â”‚
         â”‚ [Changes]   [Comment]     [Approve]               â”‚
         â”‚   loop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚                    â”‚
         â”‚     â”‚                         â”‚                    â”‚
         â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
         â”‚                               â”‚                    â”‚
         â”‚                               â–¼                    â”‚
         â–¼                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ PR Approved           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ PR Merged    â”‚      â”‚ Ready for Merge       â”‚
      â”‚ to Main      â”‚      â”‚                       â”‚
      â”‚              â”‚      â”‚ â€¢ All feedback        â”‚
      â”‚ â€¢ Code in    â”‚      â”‚   addressed           â”‚
      â”‚   production â”‚      â”‚ â€¢ Checkspass          â”‚
      â”‚ â€¢ Session    â”‚      â”‚ â€¢ Approval received   â”‚
      â”‚   archived   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚              â”‚                  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ Implementation       â”‚
                            â”‚ Complete             â”‚
                            â”‚                      â”‚
                            â”‚ â€¢ Issue closed       â”‚
                            â”‚ â€¢ PR merged          â”‚
                            â”‚ â€¢ Code deployed      â”‚
                            â”‚ â€¢ Session archived   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  KEY WORKFLOWS                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚ 1. CAPTURE WORKFLOW (capture-copilot-session.yml)                              â”‚
â”‚    Trigger: PR opened from copilot/* branch                                    â”‚
â”‚    Purpose: Save implementation session state                                  â”‚
â”‚    Action:  Creates .github/sessions/copilot-issue-{N}-pr-{N}.json             â”‚
â”‚             Posts comment with session ID                                      â”‚
â”‚             Commits session file                                               â”‚
â”‚                                                                                 â”‚
â”‚ 2. HANDLE CHANGES WORKFLOW (handle-copilot-review-changes.yml)                 â”‚
â”‚    Trigger: PR review with "changes_requested" state                           â”‚
â”‚    Purpose: Update session with feedback, alert Copilot                        â”‚
â”‚    Action:  Adds review comments to session file                               â”‚
â”‚             Adds copilot-review-changes label                                  â”‚
â”‚             Posts restoration instructions                                     â”‚
â”‚             Commits updated session file                                       â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SESSION FILE STRUCTURE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚ File: .github/sessions/copilot-issue-49-pr-123.json                            â”‚
â”‚                                                                                 â”‚
â”‚ {                                                                               â”‚
â”‚   "sessionId": "copilot-issue-49-pr-123",      â† Session identifier            â”‚
â”‚   "timestamp": "2025-01-15T10:30:00Z",         â† When captured                â”‚
â”‚   "issue": {                          â† Original Issue Context                  â”‚
â”‚     "number": 49,                                                              â”‚
â”‚     "title": "Bug: Double icons...",                                           â”‚
â”‚     "author": "j0hnnymiller",                                                  â”‚
â”‚     "body": "Full description...",                                             â”‚
â”‚     "labels": ["bug", "size:small"],                                           â”‚
â”‚     "url": "https://github.com/.../issues/49"                                  â”‚
â”‚   },                                                                            â”‚
â”‚   "pr": {                              â† PR Details                             â”‚
â”‚     "number": 123,                                                             â”‚
â”‚     "title": "[Implementation #49] Bug: Double icons...",                       â”‚
â”‚     "branch": "copilot/issue-49-double-icons",                                 â”‚
â”‚     "author": "github-actions[bot]",                                           â”‚
â”‚     "url": "https://github.com/.../pull/123"                                   â”‚
â”‚   },                                                                            â”‚
â”‚   "implementation": {                 â† Implementation Snapshot                 â”‚
â”‚     "commits": [                       â† Commits made                           â”‚
â”‚       {                                                                         â”‚
â”‚         "hash": "abc123def456",                                                â”‚
â”‚         "message": "fix: remove duplicate emoji",                              â”‚
â”‚         "files": ["index.html"]                                                â”‚
â”‚       }                                                                         â”‚
â”‚     ],                                                                          â”‚
â”‚     "filesChanged": ["index.html"],    â† Modified files                        â”‚
â”‚     "files": {                         â† File diffs                             â”‚
â”‚       "index.html": {                                                          â”‚
â”‚         "before": "...",               â† Original content                      â”‚
â”‚         "after": "...",                â† Modified content                      â”‚
â”‚         "diff": "..."                  â† Unified diff                          â”‚
â”‚       }                                                                         â”‚
â”‚     }                                                                           â”‚
â”‚   },                                                                            â”‚
â”‚   "restorationContext": {             â† For Session Restoration                â”‚
â”‚     "branch": "copilot/issue-49-double-icons",                                 â”‚
â”‚     "baseBranch": "main",                                                      â”‚
â”‚     "headSha": "abc123def456...",      â† Current branch tip                    â”‚
â”‚     "baseSha": "def456abc123..."       â† Base branch tip                       â”‚
â”‚   },                                                                            â”‚
â”‚   "reviewState": {                    â† Review Feedback                         â”‚
â”‚     "changesRequested": false,         â† Updated by review workflow             â”‚
â”‚     "reviewComments": [                â† Accumulated feedback                   â”‚
â”‚       {                                                                         â”‚
â”‚         "reviewer": "codeowner",                                                â”‚
â”‚         "comment": "Also check favicon references",                            â”‚
â”‚         "state": "changes_requested",                                          â”‚
â”‚         "timestamp": "2025-01-15T11:45:00Z"                                    â”‚
â”‚       }                                                                         â”‚
â”‚     ],                                                                          â”‚
â”‚     "approvalStatus": "pending"        â† pending/approved/dismissed             â”‚
â”‚   }                                                                             â”‚
â”‚ }                                                                               â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MULTI-TURN ITERATION EXAMPLE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚ Iteration 1:                                                                   â”‚
â”‚   PR Created â†’ Session Captured â†’ Review â†’ Changes Requested (Feedback 1)      â”‚
â”‚                                                                                 â”‚
â”‚ Iteration 2:                                                                   â”‚
â”‚   Copilot Restores (includes Feedback 1)                                       â”‚
â”‚   Implements changes â†’ PR Updated â†’ Review â†’ Changes Requested (Feedback 2)    â”‚
â”‚                                                                                 â”‚
â”‚ Iteration 3:                                                                   â”‚
â”‚   Copilot Restores (includes Feedback 1 + 2)                                   â”‚
â”‚   Implements changes â†’ PR Updated â†’ Review â†’ Approved âœ“                        â”‚
â”‚                                                                                 â”‚
â”‚ Result:                                                                        â”‚
â”‚   Session accumulates all feedback                                             â”‚
â”‚   Each restoration includes full context history                               â”‚
â”‚   Copilot can address compound feedback efficiently                            â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Quick Navigation

- **ğŸ“– Full Documentation**: See `.github/COPILOT_SESSION_GUIDE.md`
- **âš¡ Quick Commands**: See `scripts/session-quick-reference.js`
- **ğŸ”§ Implementation**: See `scripts/session-manager.js`
- **âš™ï¸ Workflow: Capture**: See `.github/workflows/capture-copilot-session.yml`
- **âš™ï¸ Workflow: Review**: See `.github/workflows/handle-copilot-review-changes.yml`

---

**Generated**: 2025-01-15
**Version**: 1.0
**Status**: Production Ready
